<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
   

</head>
  <body>

    <div class="background-banner" >
        <img src="pexels-fotoaibe-1743227.jpg" alt="" id="bannerBackgroundImage"/>
        <div class="banner-text">
          <h1>LIVING ROOM<br /></h1>
          <p>
            A cozy living room featuring a comfortable sofa, warm lighting, and
            stylish decor.
          </p>
        </div>
      </div>


    <main class="page-content" id="designStyleContainer"></main>



    <!-- <div class="container mt-3">
        <h3>Fullscreen Modal Example</h3>
        <p>Click on the button to open the fullscreen modal.</p>
        
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
          Open modal
        </button>
      </div> -->

    <div class="descriptionModalDisplay">
      
          
          <!-- The Modal -->
          <div class="modal" id="myModal">
            <div class="modal-dialog modal-fullscreen">
              <div class="modal-content">
          
                <!-- Modal Header -->
                <div class="modal-header">
                  <h4 class="modal-title">Modal Heading</h4>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
          
                <!-- Modal body -->
                <div class="modal-body">
                
                    <section class="bg-grey">
                        <div id="return-one" class="section section-one">
                          <div class="box1" >
                            <h1 class="ll-h-1" id="livingRoomCategoryName"></h1>
                            <h1 class="all-h-1" id="designerName" style="text-decoration: underline rgba(133, 133, 133, 0.719);">Amir and Sabeen</h1>
                            <div class="all-p-1" id="designerDescription">
                            </div>
                               <h3>Prouducts Used</h3>
                              <ul id="productNames"> 
                                <!-- <li>Known for her modern and luxurious designs.</li>
                                <li>Amir and Sabeen are a renowned husband-and-wife duo in Pakistan's interior design industry. </li>
                                <li>Their firm, Amir and Sabeen Interior Design,is highly regarded for comfortable spaces. </li>
                                <li>They often work with high-end clients, creating bespoke interiors.</li>
                                <li>They are known for blending traditional Pakistani elements with modern styles.</li> -->
                              </ul>
                              <h4>Total Cost: <span id="costText"></span></h4>
                          </div>
                          <div class="box2 thumbnail-component" >
                            <a href="#img1">
                              <img class="thumbnail-image" id="designerImage" src="" alt="Image description" />
                            
                            </a>
                            <div id="img1" class="overlay">
                              <a href="#img1" class="overlay-background"></a>
                              <div class="overlay-content">
                                <img class="overlay-image" src="" alt="image description" />
                                <a href="#return-one" class="close-button">âœ–</a>
                              </div>
                            </div> 
                          </div>
                        </div>
                      </section>
                       
                  
                </div>
          
    
          
              </div>
            </div>
          </div>
          
    </div>
      
      





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


    

    <script>
          let designStyleContainer = document.getElementById(
        "designStyleContainer"
      );
      let descriptionStyleContainer = document.getElementById(
        "descriptionStyleContainer"
      );

      let livingRoomCategoryName = document.getElementById('livingRoomCategoryName');
      let designerName = document.getElementById('designerName');
      let designerDescription = document.getElementById('designerDescription');
      let productNames = document.getElementById('productNames');
      let designerImage = document.getElementById('designerImage');
      let costText = document.getElementById('costText');



      let dataArray = [];
      let singleProdDataArray = [];

      designStyleContainer.innerHTML = "Loading....";
      fetch("allDesignStyle.json")
        .then((response) => response.json())
        .then((data) => {
          console.log(data);
          dataArray = data.filter((d) => d.livingRoomCategoryId == 1 );
          console.log(dataArray);
          designStyleContainer.innerHTML = "";

          dataArray.map(({livingRoomCategoryName, livingRoomCategoryId, image, prodId }) => {
            designStyleContainer.innerHTML += `
                     <div class="card" style="background-image: url('${image}');
        background-size: cover;
        background-position: center;">
        <div class="content">
            <button class="btn designStyleViewMoreBtn" data-id='${livingRoomCategoryId}' style="display:none;">View More</button>
             <button type="button" class="btn btn-primary designStyleViewMoreBtn" data-bs-toggle="modal" data-bs-target="#myModal" data-id='${prodId}'>
          Open modal
        </button>
        </div>
        </div> `;

          });


          let designStyleViewMoreBtn = document.querySelectorAll(
            ".designStyleViewMoreBtn"
          );
          designStyleViewMoreBtn.forEach((singleBtn) => {
            singleBtn.addEventListener("click", function () {
                console.log(singleBtn.getAttribute('data-id'))

                let prodId = singleBtn.getAttribute('data-id');
                

                fetch("designStyleData.json")
                   .then((response) => response.json())
                   .then((data) => {
                        console.log(data);
                        singleProdDataArray = data.filter((d) => d.id == prodId );
                        console.log("single product",singleProdDataArray);
                        livingRoomCategoryName.innerText = singleProdDataArray[0].category
                        designerName.innerText = singleProdDataArray[0].designerName
                        designerDescription.innerText = singleProdDataArray[0].designerDescription
                        designerImage.src = singleProdDataArray[0].designerImage
                        costText.innerText = singleProdDataArray[0].cost

                        productNames.innerHTML = ''
                        singleProdDataArray[0].ProductsName.map((p) =>{
                            productNames.innerHTML += `<ul><li>${p}</li></ul>`
                            console.log("p",p)
                        })
                    
                        console.log(productNames,singleProdDataArray[0].ProductsName[0])


                   });





            })
        });




        })
        .catch(error => console.error(error));
       
    </script>



  </body>
</html>